"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[538],{5700:function(e,t,n){n.d(t,{W:function(){return a}});var r="Container_container__VVOCq",c=n(184),a=function(e){var t=e.children;return(0,c.jsx)("div",{className:r,children:t})}},2845:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(501),c="MovieGallery_galleryList__JyKHn",a="MovieGallery_galleryList_item__zrpAO",o=n(184),i=function(e){var t=e.movies,n=e.prevLocation;return(0,o.jsx)("div",{children:(0,o.jsx)("ul",{className:c,children:t?t.map((function(e){var t=e.id,c=e.title;return(0,o.jsx)("li",{className:a,children:(0,o.jsx)(r.rU,{to:"/movies/".concat(t),state:{from:n},children:c})},t)})):null})})}},538:function(e,t,n){n.r(t),n.d(t,{default:function(){return p}});var r=n(2982),c=n(885),a=n(2791),o=n(501),i=n(6871),u=n(3509),s=n(5700),l=n(2639),f="Searchbar_SearchForm_button__OB9qt",h="Searchbar_SearchForm_input__50Ett",d=n(184),v=function(e){var t=e.onSearch,n=(0,a.useState)(""),r=(0,c.Z)(n,2),o=r[0],i=r[1];return(0,d.jsx)("header",{children:(0,d.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""===o.trim())return u.Am.warning("Search field is empty!");t(o),i("")},children:[(0,d.jsx)("button",{type:"submit",className:f,children:"Search"}),(0,d.jsx)("input",{className:h,type:"text",name:"searchRequest",value:o,onChange:function(e){i(e.currentTarget.value.toLowerCase())},autoComplete:"off",autoFocus:!0,placeholder:"Enter your search request"})]})})},m=n(2845),_=n(8898);function p(){var e=(0,o.lr)(),t=(0,c.Z)(e,2),n=t[0],f=t[1],h=(0,a.useState)([]),p=(0,c.Z)(h,2),g=p[0],y=p[1],S=(0,a.useState)(null),x=(0,c.Z)(S,2),j=x[0],w=x[1],A=(0,a.useState)(!1),b=(0,c.Z)(A,2),k=b[0],E=b[1],L=n.get("query"),Z=(0,i.TH)();(0,a.useEffect)((function(){if(L){""!==L&&function(e){E(!0);try{(0,_.oi)(e).then((function(e){if(!e.data.results.length)return u.Am.error("There is no movies found with that search request");var t=e.data.results.map((function(e){return{id:e.id,title:e.title}}));y((0,r.Z)(t))}))}catch(j){w(j)}finally{E(!1)}}(L)}}),[L]);return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(s.W,{children:[(0,d.jsx)(v,{onSearch:function(e){f({query:"".concat(e)})}}),j&&u.Am.error("Whoops, something went wrong: ".concat(j.message)),k&&(0,d.jsx)(l.Z,{color:"#3f51b5",size:32}),g.length>0&&(0,d.jsx)(m.Z,{movies:g,prevLocation:Z})]})})}},8898:function(e,t,n){n.d(t,{y:function(){return h},vw:function(){return s},BG:function(){return f},oi:function(){return l},Bt:function(){return d}});var r=n(4569),c=n.n(r),a=function(e){return c().get(e)},o={BASE_URL:"https://api.themoviedb.org/3",API_KEY:"87a71118ac3447d6d578af620d5589d9",DEFAULT_LANGUAGE:"en-US"},i=o.BASE_URL,u=o.API_KEY,s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return a("".concat(i,"/trending/movie/day?api_key=").concat(u,"&page=").concat(e))},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return a("".concat(i,"/search/movie?api_key=").concat(u,"&page=").concat(t,"&query=").concat(e))},f=function(e){return a("".concat(i,"/movie/").concat(e,"?api_key=").concat(u))},h=function(e){return a("".concat(i,"/movie/").concat(e,"/credits?api_key=").concat(u))},d=function(e){return a("".concat(i,"/movie/").concat(e,"/reviews?api_key=").concat(u))}}}]);
//# sourceMappingURL=538.8a8e49ed.chunk.js.map